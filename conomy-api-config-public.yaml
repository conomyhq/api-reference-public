swagger: '2.0'
info:
  title: "Conomy Developers \U0001F4D9 API Reference"
  description: "This is **Conomy Developers**, the portal where you cand find our API Reference with everything you need to use our APIs. We've tried to build a friendly documentation, if you have any doubt please don't hesitate to reach us out at hola@conomyhq.com. We hope you enjoy this site \U0001F44B.\n\nCurrently we have a microservices backend architecture serving for different purposes. You can find their description in the left menu with the detail of each of their specific endpoints.\n\n**Addresses Service**: Users addresses information, you can fetch address data with its specific user id, bringing parameters like region, commune, first_address and an optional description address.\n\n**Cards Service**: Cards information, search and match any card that is owned by specific user id and respond an array of card objects. \n\n**Transactions Service**: This service provides transactions information, you can fetch transaction data with its specific card id, bringing parameters like title, amount, currency among others.\n\n**Users Service**: This service provides users information, with its user id you can get all the user data and also make some changes to its personal information.\n\n**Authorization Service**: This service lets the user to have its private pin, letting him take control over his personal data with a configured pin pass. \n\n**Others...*\n\nhttps://giphy.com/gifs/barkpost-barkpost-happy-wednesday-working-like-a-dog-eYilisUwipOEM"
  version: 1.0.0
  contact:
    email: hola@conomyhq.com
    name: Conomy app
host: api.conomy.app
schemes:
  - https
produces:
  - application/json
securityDefinitions:
  apitoken:
    type: apiKey
    name: x-api-key
    in: header
  Bearer:
    type: apiKey
    name: Authorization
    in: header
paths:
  '/card/{card_id}':
    get:
      tags:
        - Card
      description: 'The Cards service provides information about user''s cards, and the endpoint /card/{card_id} with the method GET fetch the information about a specific id.'
      summary: "Get a specific card by card ID \U0001F4B3"
      operationId: getCardId
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - type: string
          name: card_id
          in: path
          required: true
          description: card ID
      security:
        - apitoken: []
      responses:
        '200':
          description: Card information
          schema:
            $ref: '#/definitions/Card'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
    delete:
      tags:
        - Card
      description: 'The Cards service provides information about user''s cards, and the endpoint /card/{card_id} with the method DELETE deletes the information about a specific card id.'
      summary: "Delete a specific card by card ID \U0001F4B3"
      operationId: DeleteCard
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - type: string
          name: card_id
          in: path
          required: true
          description: card ID
      security:
        - apitoken: []
      responses:
        '200':
          description: Card information
          schema:
            $ref: '#/definitions/Card'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
  /card:
    post:
      tags:
        - Card
      summary: "Create a card and add to a specific user \U0001F45B"
      operationId: createCard
      description: 'The Cards service delivers cards data. The /card endpoint with POST method adds a card owned by a specific user id and save it on an array of card objects, which includes all its cards attributes.'
      consumes:
        - application/json
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: body
          name: Card
          description: Card schema
          schema:
            $ref: '#/definitions/CardPatch'
      security:
        - apitoken: []
      responses:
        '201':
          description: Card information
          schema:
            $ref: '#/definitions/CardCreate'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
    parameters: []
    patch:
      tags:
        - Card
      summary: "Update a card \U0001F45B"
      operationId: patchCard
      description: 'The Cards service delivers cards data. The /card endpoint with PATCH method updates a card by a specific id.Only set if isActive, isSelected'
      consumes:
        - application/json
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: body
          name: Card
          description: Card schema
          schema:
            $ref: '#/definitions/CardPatch'
      security:
        - apitoken: []
      responses:
        '201':
          description: Card information
          schema:
            $ref: '#/definitions/Card'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
  '/conomyCard/{conomycard_id}':
    get:
      summary: "Get all the information of a specific Conomy Card \U0001F4B3"
      security:
        - apitoken: []
      responses:
        '200':
          description: Response a Conomy Card Object
          schema:
            $ref: '#/definitions/ConomyCard'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      operationId: getConomyCardId
      description: The Conomy Card service provides all the data about Conomy Cards and the GET method fetch a specific card by its id.
      tags:
        - Conomy Card
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    parameters:
      - type: string
        name: conomycard_id
        in: path
        required: true
        description: Conomy card ID
    delete:
      summary: "Delete a specific Conomy Card by its conomyCardId \U0001F4B3"
      security:
        - apitoken: []
      responses:
        '200':
          description: Response a Conomy Card Object
          schema:
            $ref: '#/definitions/ConomyCard'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      operationId: deleteConomyCardId
      description: The Conomy Card service provides all the data about Conomy Cards and the DELETE method deletes a specific card by its id.
      tags:
        - Conomy Card
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
  /conomyCard:
    parameters: []
    post:
      summary: "Create a new Conomy Card \U0001F4B3"
      operationId: postConomyCard
      security:
        - apitoken: []
      responses:
        '200':
          description: Response a Conomy Card Object
          schema:
            $ref: '#/definitions/ConomyCardCreate'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      tags:
        - Conomy Card
      description: The Conomy Card service host all the data about Conomy Cards and the POST method creates a new Conomy Card based on the attributes provided.
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/ConomyCardCreate'
          description: Request are all the attributes but active default payment card and description
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    patch:
      summary: "Update a Conomy Card \U0001F4B3"
      operationId: patchConomyCard
      consumes:
        - application/json
      tags:
        - Conomy Card
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      description: The Conomy Card service host all the data about Conomy Cards and the PATCH method updates a Conomy Card based on the allowed attributes.
      parameters:
        - in: body
          name: ConomyCard
          schema:
            $ref: '#/definitions/ConomyCardPatch'
          description: Request if is active or not
      security:
        - apitoken: []
      responses:
        '200':
          description: Response a Conomy Card Object
          schema:
            $ref: '#/definitions/ConomyCard'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
  /user:
    post:
      tags:
        - User
      summary: "Create a new user in the db \U0001F929"
      operationId: addUser
      description: 'The Users services provides user information. The /user endpoint with a POST method register a new user in the db with its personal information such as name, last name, national id, phone among other data.'
      consumes:
        - application/json
      security:
        - apitoken: []
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: body
          name: User
          description: User schema
          schema:
            $ref: '#/definitions/UserCreate'
      responses:
        '201':
          description: matching user
          schema:
            $ref: '#/definitions/UserCreate'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
    parameters: []
    patch:
      summary: "Update a user in the db \U0001F929"
      operationId: patchUser
      responses:
        '200':
          description: OK
      description: The Users services provides user information. The /user endpoint with a PATCH method updates defined updatables attributes in the db.
      tags:
        - User
  '/user/{user_id}':
    get:
      tags:
        - User
      summary: "Get a specific user \U0001F60A"
      operationId: getUser
      description: 'The Users service provides user information. The /users/{id} endpoint with a GET method fetch a specific user by its user id from the db with its personal information such as name, last name, national id, phone among other data.'
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: search results matching criteria
          schema:
            $ref: '#/definitions/User'
          examples:
            example-1:
              id: b92e761a-279a-11ec-9621-0242ac130002
              userExternalId: string
              name: Mauricio
              nickName: JFT
              lastName: Gatica
              email: string
              maritalStatus: string
              phone: '+5691238159123'
              dni: 12.612.412-2
              career: string
              address: Bellas Artes
              status: active
              contractId: 1dhHkkf76
              rulesId:
                - af1gs
                - l2b3f
                - hjg3k3
        '201':
          description: Created
          schema:
            type: object
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      security:
        - apitoken: []
    parameters:
      - type: string
        name: user_id
        in: path
        required: true
        description: User ID
  /switch:
    post:
      summary: "Switch Transaction \U0001F511"
      operationId: transactionSwitch
      description: The Switch service receive transaction's information. The /transaction endpoint with a POST method register every transaction.
      consumes:
        - application/json
      x-google-backend:
        address: 'https://conomy-switch-service-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: body
          name: User
          description: User schema
          schema:
            $ref: '#/definitions/SwitchTransaction'
          x-examples: {}
      responses:
        '201':
          description: matching user
          schema:
            $ref: '#/definitions/SwitchTransactionResponse'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      tags:
        - Transaction Switch
      security:
        - apitoken: []
    parameters: []
  /switchTowallet:
    post:
      summary: "Switch Transaction \U0001F511"
      operationId: transactionSwitch
      description: The Switch service receive transaction's information. The /transaction endpoint with a POST method register every transaction.
      consumes:
        - application/json
      x-google-backend:
        address: 'https://conomy-switch-service-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      parameters:
        - in: body
          name: User
          description: User schema
          schema:
            $ref: '#/definitions/SwitchTransaction'
          x-examples: {}
      responses:
        '201':
          description: matching user
          schema:
            $ref: '#/definitions/SwitchTransactionResponse'
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          examples:
            Unauthorized Error:
              detail: Jwt is missing
              type: AuthError
              code: 401
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          examples:
            Not Found Error:
              detail: The user could not be found in the DB
              type: NotFoundError
              code: 404
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal server error.
          schema:
            $ref: '#/definitions/Error500'
          examples:
            Server Error:
              detail: Internal Server Error
              type: ServerError
              code: 500
      tags:
        - Transaction Switch
      security:
        - apitoken: []
    parameters: []
  /v1/goals-challenges/composite:
    post:
      summary: Create goal or challenge
      tags:
        - Goals & Challenges
      x-google-backend:
        address: 'https://gc-composite-service-conomy-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '201':
          description: Created
          schema:
            $ref: '#/definitions/GoalandChallengeCreateResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      operationId: post-v1-goals
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/GoalandChallengeCreate'
          description: Goal & challenge schema
          x-examples: {}
      description: The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/ endpoint with a POST method register a new goal or challenge in the db with  a goal and challenge model field.
      x-internal: true
      security:
        - apitoken: []
    parameters: []
    get:
      summary: Get goals and challenges by user_id
      operationId: get-v1-goals-challenges
      x-google-backend:
        address: 'https://conomy-composite-goals-and-challenges-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            type: object
            properties:
              goalschallenges:
                $ref: '#/definitions/GoalandChallenge'
              _links:
                type: array
                items:
                  $ref: '#/definitions/_links'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      description: The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/ endpoint with a GET method fetch a goals and challenges by user_upayments_uuid
      parameters:
        - type: string
          in: query
          name: user_upayments_uuid
          description: upayments user identifier
      tags:
        - Goals & Challenges
      x-internal: true
      security:
        - apitoken: []
  /v1/goals-challenges/composite/challenges:
    get:
      summary: Get Active challenges in app
      tags:
        - Goals & Challenges
      x-google-backend:
        address: 'https://conomy-composite-goals-and-challenges-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            type: object
            properties:
              goalschallenges:
                $ref: '#/definitions/GoalandChallenge'
              _links:
                type: array
                items:
                  $ref: '#/definitions/_links'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      operationId: get-v1-active-challenges
      x-internal: true
      security:
        - apitoken: []
    parameters: []
  /v1/goals-challenges/composite/rules:
    get:
      summary: Get Actives rules in app
      tags:
        - Goals & Challenges
      x-google-backend:
        address: 'https://conomy-composite-goals-and-challenges-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            type: object
            properties:
              rules:
                $ref: '#/definitions/Rule'
              _links:
                type: array
                items:
                  $ref: '#/definitions/_links'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      operationId: get-v1-active-rules
      x-internal: true
      security:
        - apitoken: []
    parameters: []
  '/v1/goals-challenges/composite/{id}':
    get:
      summary: Get goal or challenge by id
      x-google-backend:
        address: 'https://conomy-composite-goals-and-challenges-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GoalandChallengeResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      operationId: get-v1-goals-challenge
      description: 'The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/{id} endpoint with a GET method fetch a specific goal or challenge by id'
      parameters: []
      tags:
        - Goals & Challenges
      x-internal: true
      security:
        - apitoken: []
    put:
      summary: Modify goal or challenge by id
      operationId: put-v1-goals-challenge
      x-google-backend:
        address: 'https://gc-composite-service-conomy-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GoalandChallengeResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      description: 'The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/{id} endpoint with a PUT method updates a goal or challenge values by id'
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/GoalandChallenge'
          x-examples: {}
      tags:
        - Goals & Challenges
      x-internal: true
      security:
        - apitoken: []
    parameters:
      - type: string
        name: id
        in: path
        required: true
    delete:
      summary: Delete goal or challenge by id
      operationId: delete-v1-goals-challenges-id
      x-google-backend:
        address: 'https://gc-composite-service-conomy-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error404'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      description: 'The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/{id} endpoint with a PUT method deletes a goal or challenge values by id'
      tags:
        - Goals & Challenges
      x-internal: true
      security:
        - apitoken: []
  '/v1/goals-challenges/composite/{id}/confirm':
    parameters:
      - type: string
        name: id
        in: path
        required: true
        description: Goal or Challenge identifier
    post:
      summary: Complete the setup of an objective or challenge
      operationId: post-v1-goals-challenges-id-confirm
      x-google-backend:
        address: 'https://conomy-composite-goals-and-challenges-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GoalandChallengeResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      description: 'The goals and challenges service is responsible for storing and handling all goals and challenges of our users. The /goals-challenges/{id}/confirm endpoint with a POST method confirms the goal or challenge attempt.'
      tags:
        - Goals & Challenges
      security:
        - apitoken: []
  /api/auth:
    post:
      summary: Create a new jwt token to interactuate with conomy services
      operationId: post-v1-auth
      consumes:
        - application/json
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/GetTokenBody'
          description: This request require an user id from uapyment and and estimated time to live
          x-examples: {}
        - type: string
          name: X-Application-Id
          in: header
          required: true
          description: App id
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/GetTokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      description: 'With this method a new jwt token will be created in the conomy authentication service, along with this will come a refresh token that will serve to renew said token and also an expiration date in unix timestamp format, in addition to this the useful links will be referenced of the api'
      tags:
        - Auth
      x-google-backend:
        address: 'https://conomy-jwt-auth-service-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      security:
        - apitoken: []
    parameters: []
  /api/auth/validate:
    get:
      security:
        - apitoken: []
      summary: Check if the token is valid or not
      operationId: get-v1-auth-validate
      parameters:
        - type: string
          name: X-Application-Id
          in: header
          required: true
          description: App id
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/ValidateTokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      tags:
        - Auth
      x-google-backend:
        address: 'https://conomy-jwt-auth-service-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
    parameters: []
  /api/auth/refresh:
    post:
      summary: Refresh a jwt token
      operationId: post-v1-auth-refresh
      consumes:
        - application/json
      parameters:
        - type: string
          name: X-Application-Id
          in: header
          required: true
          description: App id
        - type: string
          name: X-Refresh-Token
          in: header
          required: true
          description: Refresh token id
        - in: body
          name: body
          schema:
            type: object
            properties:
              ttl:
                type: integer
                description: 'time to live until token expire, unix timestamp'
                example: 1651007906
                x-examples: {}
          description: This request require an user id from uapyment and and estimated time to live
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/RefreshTokenResponse'
        '400':
          description: Bad Request
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Unauthorized
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Not Found
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
      tags:
        - Auth
      x-google-backend:
        address: 'https://conomy-jwt-auth-service-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      security:
        - apitoken: []
    parameters: []
  /user/deleteRule:
    patch:
      summary: Update user rules by UserID
      operationId: patchUserRule
      responses:
        '200':
          description: Delete rule by user id OK
          schema:
            $ref: '#/definitions/UserDeleteRuleResponse'
        '201':
          description: Created
          schema:
            type: object
            properties: {}
        '400':
          description: Bad Request. A required parameter for this API operation is invalid or has not been provided.
          schema:
            $ref: '#/definitions/Error400'
        '401':
          description: Invalid or missing authentication token.
          schema:
            $ref: '#/definitions/Error401'
        '404':
          description: Data not found in the DB.
          schema:
            $ref: '#/definitions/Error404'
        '500':
          description: Internal Server Error
          schema:
            $ref: '#/definitions/Error500'
        '':
          schema:
            $ref: ''
      description: 'The Users service provides user information. The /user/deleteRule endpoint with a PATCH method, updates user rules, deleting a specific rule of specific user by user id from the db.'
      security:
        - apitoken: []
      parameters:
        - in: body
          name: body
          schema:
            $ref: '#/definitions/UserDeleteRule'
          description: ''
      x-google-backend:
        address: 'https://conomy-data-report-composite-ylggeyc7ba-uc.a.run.app'
        path_translation: APPEND_PATH_TO_ADDRESS
      tags:
        - User
    parameters: []
definitions:
  Transaction:
    type: object
    properties:
      id:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
    required:
      - _id
  Token:
    type: object
    description: Jwt token format used by conomy
    properties:
      userId:
        description: upayment user idientifier
        type: string
        example: 52SNfMWOktWVxsfyks6felsafAU24
      appId:
        description: app idientifier
        type: string
        example: '123456'
      exp:
        description: Unix timestamp
        type: integer
        example: 1651007906
    required:
      - upaymentsId
      - appId
      - exp
  GetTokenBody:
    type: object
    description: Body schema to fetch a jwt token
    properties:
      user_upayments_uuid:
        type: string
        description: Upayment user id who is applying to the token
        example: 52SNfMWOktWVxsfyks6felsafAU24
      ttl:
        type: integer
        description: Duration time (min)
        example: 1651007906
    required:
      - user_upayments_uuid
      - ttl
    x-examples:
      example-1:
        user_upayments_uuid: 52SNfMWOktWVxsfyks6felsafAU24
        ttl: 5
  GetTokenResponse:
    type: object
    description: Response schema for a get token method
    properties:
      conomyToken:
        type: string
        description: Conomy jwt token
        example: eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9
      refreshToken:
        type: string
        description: refresh jwt token
        example: eyJhbGciOiJIUzI1NiIsInR5c.eyJzdWIiOFt2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpM
      expiration:
        type: string
        description: Expiration date (unix time)
        example: '5'
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
    required:
      - conomyToken
      - refreshToken
      - expiration
      - _links
  RefreshTokenResponse:
    type: object
    description: Response schema for a get token method
    properties:
      conomyToken:
        type: string
        description: Conomy jwt token
        example: eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWV9
      refreshToken:
        type: string
        description: refresh jwt token
        example: eyJhbGciOiJIUzI1NiIsInR5c.eyJzdWIiOFt2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpM
      expiration:
        description: Unix timestamp
        type: string
        example: '1651007906'
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
    required:
      - conomyToken
      - refreshToken
      - expiration
      - _links
  ValidateTokenResponse:
    type: object
    description: Response schema to a response when validating a token
    properties:
      message:
        type: string
        example: valid token
      userId:
        type: string
        format: uuid
        example: 123e4567-e89b-12d3-a456-426614174000
      expiration:
        type: string
        example: '1651007906'
        description: Expiration date
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
    required:
      - expiration
      - _links
  Address:
    type: object
    description: This is a model to represent user address
    properties:
      id:
        type: string
        format: uuid
        example: d04882ef-cf1a-40c9-b571-a6b4fa3514fd
      user_id:
        type: string
        format: uuid
        example: d04882ef-cf1a-40c9-b571-a6b4fa3514fd
      administrative_area_level_1:
        type: string
        example: Valparaiso
      administrative_area_level_2:
        type: string
        example: ConCon
      locality:
        type: string
      street:
        type: string
        example: Los Pillines
      street_number:
        type: string
      optional_address:
        type: string
        example: '340'
        description: Like an apartment number
    required:
      - id
      - user_id
      - administrative_area_level_1
      - administrative_area_level_2
      - street
      - optional_address
  AddressModify:
    type: object
    properties:
      administrative_area_level_1:
        type: string
        example: Valparaiso
      administrative_area_level_2:
        type: string
        example: ConCon
      locality:
        type: string
        example: Los Pillines
      optional_address:
        type: string
        example: '340'
      street:
        type: string
      street_number:
        type: string
  AddressCreate:
    type: object
    properties:
      user_id:
        type: string
      administrative_area_level_1:
        type: string
        example: Valparaiso
      administrative_area_level_2:
        type: string
        example: ConCon
      locality:
        type: string
        example: Los Pillines
      optional_address:
        type: string
        example: '340'
      street:
        type: string
      street_number:
        type: string
  Rule:
    type: object
    description: Rule that defines business rules and has its atomic processes to apply to the transaction
    properties:
      id:
        type: string
      type:
        type: string
        description: Rule's type
        example: Profile rule
      description:
        type: string
        description: Rule description for human reading
      processes:
        type: array
        description: Processes are atomic operations that when accomplished in sequence define and apply the rule as a whole
        items:
          $ref: '#/definitions/RuleProcess'
    required:
      - id
      - type
      - description
      - processes
  RuleFiltered:
    type: object
    description: Rule that defines business rules and has its atomic processes to apply to the transaction
    title: ''
    properties:
      id:
        type: string
      type:
        type: string
        description: Rule's type
        example: Profile rule
      description:
        type: string
        description: Rule description for human reading
    required:
      - id
      - type
      - description
  RuleProcess:
    type: object
    description: 'Atomic process definition, it applies one simple operation of the rule. It follows a simple operation syntax, left variable + operation + right variable.'
    properties:
      id:
        type: string
      type:
        type: string
        description: Rule's type
      description:
        type: string
        description: Rule description for human reading
      leftVariable:
        type: string
      rightVariable:
        type: string
      operation:
        type: string
    required:
      - id
      - type
      - description
  Card:
    type: object
    x-examples: {}
    properties:
      id:
        type: string
      externalId:
        type: string
        description: Card external identifier
      userId:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
        description: user conomy identifier
      issuingBank:
        type: string
        example: BancoDeChile
        description: Issuing Bank
      cardBrand:
        type: string
        example: MasterCard
        description: 'MASTERCARD, VISA, AMEX, MAGNA'
      cardholderName:
        type: string
        example: Pablo insulza
        description: name shown on card
      pan:
        type: string
        example: '************1234'
        description: Obfuscated card number
      currency:
        type: string
        example: CLP
        description: Card currency
      isActive:
        type: boolean
        example: false
        description: Card state
      color:
        type: string
        description: User-defined card color (HEX)
      cardType:
        type: string
        description: 'PREPAID, DEBIT, CREDIT'
      description:
        type: string
        description: Info shown on conomy app
      priority:
        type: string
        description: 'Card priority. MAIN: Principal card, BACKUP: Second card'
      createdAt:
        type: string
        format: date-time
        example: '2017-07-21T17:32:28Z'
      updatedAt:
        type: string
        format: date-time
        example: '2017-07-21T17:32:28Z'
    required:
      - issuingBank
      - cardBrand
      - cardholderName
      - pan
      - currency
      - isActive
  CardCreate:
    type: object
    x-examples:
      example-1:
        id: 96daafcf-9f83-4c2c-8706-eb557e20c23c
        card_issuer: BancoDeChile
        card_brand: MasterCard
        holder_card_name: Pablo insulza
        card_number: '************1234'
        currency: CLP
        is_active: false
        created_at: '2017-07-21T17:32:28Z'
        updated_at: '2017-07-21T17:32:28Z'
        color: string
        card_account_type: cuenta vista
        description: {}
    properties:
      externalId:
        type: string
        description: Card external identifier
      userId:
        type: string
        description: User conomy id
      issuingBank:
        type: string
        example: BancoDeChile
        description: Issuing Bank
      cardBrand:
        type: string
        example: MasterCard
        description: 'MASTERCARD, VISA, AMEX, MAGNA'
      cardholderName:
        type: string
        example: Pablo insulza
        description: name shown on card
      pan:
        type: string
        example: '************1234'
        description: Obfuscated card number
      currency:
        type: string
        example: CLP
        description: Card Currency
      isActive:
        type: boolean
        example: false
        description: Card state
      color:
        type: string
        description: User-defined card color (HEX)
      cardType:
        type: string
        description: 'PREPAID, DEBIT, CREDIT'
      description:
        type: string
        description: Info shown on conomy app
      priority:
        type: string
        description: 'Card priority. MAIN: Principal card, BACKUP: Second card'
    required:
      - externalId
      - issuingBank
      - cardBrand
      - cardholderName
      - pan
      - currency
  CardPatch:
    type: object
    x-examples: {}
    title: CardPatch
    description: Description of a PATCH method where is possible to update selected card
    properties:
      id:
        type: string
        description: Card external identifier
      isActive:
        type: boolean
        example: false
        description: Card state
    required:
      - id
      - isActive
  ConomyCard:
    type: object
    title: Conomy Card
    description: ''
    properties:
      id:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
      userId:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
      issuingBank:
        type: string
        example: BancoDeChile
        description: Issuing Bank
      cardBrand:
        type: string
        example: MasterCard
      cardholderName:
        type: string
        example: Pablo insulza
      pan:
        type: string
        example: '************1234'
        description: Obfuscated card number
      currency:
        type: string
        example: CLP
        description: Card Currency
      isActive:
        type: boolean
        example: false
        description: Card state
      createdAt:
        type: string
        format: date-time
        example: '2017-07-21T17:32:28Z'
      updatedAt:
        type: string
        format: date-time
        example: '2017-07-21T17:32:28Z'
      description:
        type: string
    required:
      - id
      - userId
      - issuingBank
      - cardBrand
      - cardholderName
      - pan
      - currency
      - isActive
  ConomyCardCreate:
    type: object
    title: Conomy Card Create
    description: ''
    properties:
      externalId:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
      userId:
        type: string
        format: uuid
        example: 96daafcf-9f83-4c2c-8706-eb557e20c23c
      issuingBank:
        type: string
        example: BancoDeChile
        description: Issuing Bank
      cardBrand:
        type: string
        example: MasterCard
      cardholderName:
        type: string
        example: Pablo insulza
      pan:
        type: string
        example: '************1234'
        description: Obfuscated card number
      currency:
        type: string
        example: CLP
        description: Card Currency
      description:
        type: string
      isActive:
        type: string
        example: 'true'
    required:
      - externalId
      - cardBrand
      - cardholderName
      - pan
      - currency
      - isActive
  ConomyCardPatch:
    type: object
    title: Conomy Card Patch
    description: Description of a PATCH method where is possible to update selected card
    properties:
      id:
        type: string
        format: objectId
        example: 628e7dccc22a0821b516fb55
      isActive:
        type: string
        example: 'true'
    required:
      - id
      - isActive
  User:
    type: object
    description: Conomy User Model
    properties:
      id:
        type: string
        example: b92e761a-279a-11ec-9621-0242ac130002
      userExternalId:
        type: string
        description: User u-payments uuid
      name:
        type: string
        example: Mauricio
        description: User name
      nickName:
        type: string
        example: JFT
        description: user nickname
      lastName:
        type: string
        example: Gatica
        description: user last name
      email:
        type: string
        description: user email
      maritalStatus:
        type: string
        description: 'MARRIED, SINGLE, DIVORCED, WIDOW '
      phone:
        type: string
        example: '+5691238159123'
        description: phone number
      dni:
        type: string
        example: 12.612.412-2
        description: Unique country identifier
      career:
        type: string
        description: User career/ocuppation
      address:
        type: string
        example: Bellas Artes
      status:
        type: string
        example: active
      contractId:
        type: string
        example: 1dhHkkf76
      rulesId:
        type: array
        example:
          - af1gs
          - l2b3f
          - hjg3k3
        items:
          type: string
    required:
      - id
      - userExternalId
      - name
      - lastName
      - email
      - maritalStatus
      - phone
      - dni
      - career
      - address
      - status
      - contractId
  UserModify:
    description: ''
    type: object
    x-examples:
      example-1:
        user_id: b92e761a-279a-11ec-9621-0242ac130002
        name: Mauricio
        nick_name: JFT
        last_name: Gatica
        rut: 12.612.412-2
        phone: '+5691238159123'
        account: user
        password_pin: '2424'
        profession: string
        gender: string
        civil_status: string
        email: string
    properties:
      name:
        type: string
        description: User name
      lastName:
        type: string
        description: User last name
      email:
        type: string
        minLength: 1
        description: user email
      nickName:
        type: string
        minLength: 1
        description: user nick name
      phone:
        type: string
        minLength: 1
        description: phone number
      career:
        type: string
        minLength: 1
        description: user career/ocuppation
      gender:
        type: string
        minLength: 1
        description: 'FEMALE, MALE, OTHER'
      maritalStatus:
        type: string
        minLength: 1
        description: 'User civil status. MARRIED, SINGLE, DIVORCED, WIDOW'
      address:
        type: string
        example: Bellas Artes
      status:
        type: string
        example: active
      contractId:
        type: string
        example: 1dhHkkf76
      rulesId:
        type: array
        example:
          - af1gs
          - l2b3f
          - hjg3k3
        items:
          type: string
  UserCreate:
    type: object
    properties:
      userExternalId:
        type: string
        description: user u-payments uuid
      name:
        type: string
        example: Mauricio
        description: user name
      lastName:
        type: string
        example: Gatica
        description: user last name
      nickName:
        type: string
        description: User nickname
      email:
        type: string
        description: user email
      dni:
        type: string
        example: 12.612.412-2
        description: Unique country identifier
      phone:
        type: string
        description: User phone number
      career:
        type: string
        description: user career/ocuppation
      gender:
        type: string
        description: 'FEMALE, MALE, OTHER'
      maritalStatus:
        type: string
        description: 'MARRIED, SINGLE, DIVORCED, WIDOW'
      address:
        type: string
        example: Bellas Artes
      status:
        type: string
        example: active
      contractId:
        type: string
        example: 1dhHkkf76
    required:
      - userExternalId
  SwitchTransaction:
    description: ''
    type: object
    x-examples: {}
    properties:
      identifier:
        type: string
        minLength: 1
      idConomyCardReferenceToken:
        type: string
        minLength: 1
      amount:
        type: string
        minLength: 1
      currency:
        type: string
        minLength: 1
      transactionId:
        type: string
        minLength: 1
      description:
        type: string
        minLength: 1
      timestamp:
        type: string
        minLength: 1
        format: date-time
        default: 'yyyy-mm-dd hh:mm:ss'
      origin:
        type: string
        minLength: 1
        default: AliExpress GRB
    required:
      - identifier
      - idConomyCardReferenceToken
      - amount
      - currency
      - transactionId
      - description
      - timestamp
      - origin
  SwitchTransactionInWallet:
    description: ''
    type: object
    x-examples: {}
    properties:
      identifier:
        type: string
        minLength: 1
      idConomyCardReferenceToken:
        type: string
        minLength: 1
      amount:
        type: string
        minLength: 1
      currency:
        type: string
        minLength: 1
      transactionId:
        type: string
        minLength: 1
      description:
        type: string
        minLength: 1
      timestamp:
        type: string
        minLength: 1
        format: date-time
        default: 'yyyy-mm-dd hh:mm:ss'
      origin:
        type: string
        minLength: 1
        default: AliExpress GRB
      idCard:
        type: string
        minLength: 1
        format: ObjectId
    required:
      - identifier
      - idConomyCardReferenceToken
      - amount
      - currency
      - transactionId
      - description
      - timestamp
      - origin
      - idCard
  SwitchTransactionToWallet:
    description: ''
    x-examples: {}
    title: ''
    type: object
    properties:
      transactions:
        type: array
        items:
          $ref: '#/definitions/SwitchTransactionInWallet'
      totalAmount:
        type: number
  SwitchTransactionResponse:
    description: ''
    type: object
    properties:
      idConomyCardReferenceToken:
        type: string
        minLength: 1
      amount:
        type: string
        minLength: 1
      currency:
        type: string
        minLength: 1
      transactionId:
        type: string
        minLength: 1
      links:
        type: array
        items:
          properties: {}
    required:
      - idConomyCardReferenceToken
      - amount
      - currency
      - transactionId
      - links
    x-examples:
      example-1:
        idConomyCardReferenceToken: asd
        amount: as
        currency: clp
        transactionId: iasd
        links: []
  Error400:
    title: BadRequestError
    type: object
    x-examples: {}
    properties:
      code:
        type: number
        example: 2
      type:
        type: string
        example: GenericError
      detail:
        type: string
        example: A required parameter for this API operation is invalid or has not been provided
    required:
      - code
      - type
      - detail
    description: ''
  Error401:
    title: UnauthorizedError
    type: object
    x-examples:
      Unauthorized Error 401:
        detail: Jwt is missing
        type: AuthError
        code: 3
    properties:
      code:
        type: number
        example: 401
      type:
        type: string
        example: AuthError
      detail:
        type: string
        example: Jwt is missing
    required:
      - code
      - type
      - detail
  Error404:
    title: NotFoundError
    type: object
    x-examples:
      example-1:
        code: 4
        type: UserNotFound
        detail: The user could not be found in the DB
    properties:
      code:
        type: number
        example: 404
      type:
        type: string
        example: NotFoundError
      detail:
        type: string
        example: The user could not be found in the DB
    required:
      - code
      - type
      - detail
  Error500:
    title: InternalServerError
    type: object
    x-examples:
      example-1:
        code: 5
        type: ServerError
        detail: Internal Server Error
    properties:
      code:
        type: number
        example: 500
      type:
        type: string
        example: ServerError
      detail:
        type: string
        example: Internal Server Error
    required:
      - code
      - type
      - detail
  GoalandChallenge:
    title: Goal&Challenge Response
    type: object
    description: Goal and challenge response model
    properties:
      id:
        type: string
      userId:
        type: string
      userExternalId:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      rules:
        type: array
        items:
          $ref: '#/definitions/RuleFiltered'
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
      created_at:
        type: string
      updated_at:
        type: string
  GoalandChallengeResponse:
    title: Goal&Challenge
    type: object
    description: Goal and challenge model
    properties:
      id:
        type: string
      userId:
        type: string
      userExternalId:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      rules:
        type: array
        items:
          $ref: '#/definitions/RuleFiltered'
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
      created_at:
        type: string
      updated_at:
        type: string
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
  GoalandChallengeFiltered:
    title: Goal&ChallengeFiltered
    type: object
    description: Goal and challenge model
    properties:
      id:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      rules:
        type: array
        items:
          $ref: '#/definitions/RuleFiltered'
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
  GoalandChallengeFilteredResponse:
    title: Goal&ChallengeFilteredResponse
    type: object
    description: Goal and challenge filtered response model
    properties:
      id:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      rules:
        type: array
        items:
          $ref: '#/definitions/RuleFiltered'
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
  GoalandChallengeModify:
    title: Goal&ChallengeModify
    type: object
    description: Goal and challenge model
    properties:
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
      rules:
        type: array
        description: rulesId
        items:
          type: string
  GoalandChallengeCreate:
    title: Goal&ChallengeCreate
    type: object
    description: Goal and challenge model
    properties:
      userId:
        type: string
      userExternalId:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
  GoalandChallengeCreateResponse:
    title: Goal&ChallengeCreate Response
    type: object
    description: Goal and challenge response model
    properties:
      userId:
        type: string
      userExternalId:
        type: string
      type:
        type: string
      description:
        type: object
        properties:
          title:
            type: string
          image:
            type: string
          color:
            type: string
          detail:
            type: string
      endTime:
        type: string
      targetAmount:
        type: number
      currentAmount:
        type: number
      status:
        type: string
        description: 'INACTIVE, ACTIVE, COMPLETE, PENDING'
      _links:
        type: array
        items:
          $ref: '#/definitions/_links'
  _links:
    title: _links
    type: object
    description: A list of link types and descriptions.
    properties:
      rel:
        type: string
        description: This describes the type of links
      route:
        type: string
        description: This property contais a full-qualified URL
      method:
        type: string
        description: The HTTP method that should be used
      targetSchema:
        type: string
        description: 'For requests, this is a URL representing the schema that the response should conform to.'
      schema:
        type: string
        description: 'For HTTP methods that can receive bodies (POST and PUT), this is a URL representing the schema that the body should conform to.'
    required:
      - rel
      - route
      - method
  BlogList:
    type: object
    x-examples: {}
    properties:
      totalBlogs:
        type: number
        description: Number of the total blogs
        example: 4
      totalPages:
        type: number
        description: 'Number of the total pages '
        example: 1
      currentPage:
        type: number
        description: Number of the current page
        example: 1
      data:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          $ref: '#/definitions/BlogPostListData'
    required:
      - totalBlogs
      - totalPages
      - currentPage
      - data
  BlogPostObject:
    description: ''
    type: object
    x-examples: {}
    title: ''
    properties:
      id:
        type: string
        minLength: 1
        description: Unique id for each blog
        example: blogpost-674209
      tag:
        type: string
        minLength: 1
        description: Title tag for urls
        example: transaccion_que_no_ocurrio
      title:
        type: string
        minLength: 1
        description: Blog title
        example: Transacción que no ocurrió
      estimatedTime:
        type: number
        description: Estimated reading time in date format ISO 8601
        example: 6
      writer:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique id belonging to a single Owner
              example: owner-338894
            name:
              type: string
              description: Owner's name
              example: Pablo
            last_name:
              type: string
              description: Owner's last name
              example: Acuña
            role:
              type: string
              description: Role within conomy
              example: CEO
            image:
              type: array
              items:
                type: object
                properties:
                  dataUrl:
                    type: string
                    example: /api/v1/content/_media/_media-0f69723e-b789-475e-ac88-ab1bd771c945
          required:
            - id
            - name
            - last_name
            - role
      content:
        type: string
        minLength: 1
        example: '<p>Mi nombre es Pablo, soy Ingeniero Comercial, tengo 31 años y soy cofundador de Conomy. Cuando le digo a la gente mi profesión, las personas tienden a imaginar que los problemas financieros -producidos por desorden o desconocimiento- son ajenos a mí y a los que estudiaron finanzas o algo similar, pero lamentablemente no es así.'
      internal:
        type: array
        description: 'Contains general information about the blog. For example, date of publication, deletion, status or type of content.'
        items:
          type: object
          properties:
            createdAt:
              type: string
              description: Date of blog creation
              example: '2022-03-15T16:21:25+00:00'
            deletedAt:
              type: string
              description: Date and time of blog deletion
            updatedAt:
              type: string
              description: Date of last modification made to the blog
              example: '2022-03-16T12:04:35+00:00'
            contentType:
              type: string
              example: blogpost
          required:
            - createdAt
            - deletedAt
            - updatedAt
    required:
      - id
      - tag
      - title
      - content
  BlogPostListData:
    description: ''
    type: object
    x-examples: {}
    title: BlogPostList
    properties:
      id:
        type: string
        minLength: 1
        description: Unique id for each blog
        example: blogpost-674209
      tag:
        type: string
        minLength: 1
        description: Title tag for urls
        example: transaccion_que_no_ocurrio
      title:
        type: string
        minLength: 1
        description: Blog title
        example: Transacción que no ocurrió
      estimatedTime:
        type: number
        description: Estimated reading time in date format ISO 8601
        example: 6
      writer:
        type: array
        uniqueItems: true
        minItems: 1
        items:
          type: object
          properties:
            id:
              type: string
              description: Unique id belonging to a single Owner
              example: owner-338894
            name:
              type: string
              description: Owner's name
              example: Pablo
            last_name:
              type: string
              description: Owner's last name
              example: Acuña
            role:
              type: string
              description: Role within conomy
              example: CEO
            image:
              type: array
              items:
                type: object
                properties:
                  dataUrl:
                    type: string
                    example: /api/v1/content/_media/_media-0f69723e-b789-475e-ac88-ab1bd771c945
          required:
            - id
            - name
            - last_name
            - role
      internal:
        type: array
        description: 'Contains general information about the blog. For example, date of publication, deletion, status or type of content.'
        items:
          type: object
          properties:
            createdAt:
              type: string
              description: Date of blog creation
              example: '2022-03-15T16:21:25+00:00'
            deletedAt:
              type: string
              description: Date and time of blog deletion
            updatedAt:
              type: string
              description: Date of last modification made to the blog
              example: '2022-03-16T12:04:35+00:00'
            contentType:
              type: string
              example: blogpost
          required:
            - createdAt
            - deletedAt
            - updatedAt
    required:
      - id
      - tag
      - title
  UserDeleteRule:
    title: UserDeleteRule
    x-stoplight:
      id: 645p7cj6e54et
    type: object
    x-examples: {}
    properties:
      id:
        type: string
      ruleId:
        type: string
  UserDeleteRuleResponse:
    title: UserDeleteRuleResponse
    x-stoplight:
      id: hbm1aveg426kw
    type: object
    description: ''
    properties:
      isDeleted:
        type: boolean
